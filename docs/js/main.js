(()=>{var t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent);$((function(){t||$("body").addClass("_pc")})),$((function(){function t(t,e,n){$(t).click((function(){$(e).toggleClass("_active"),n&&$(n).focus()})),$(document).click((function(t){0===$(t.target).closest(e).length&&$(e).removeClass("_active")}))}t(".search__btn",".search",".search__input"),t(".header__sign",".header__sign"),t(".select__btn",".select")})),$((function(){$(".slider").slick({fade:!0,prevArrow:$(".slick-prev"),nextArrow:$(".slick-next"),swipe:!1})})),$((function(){var t=3,e=1,n=$(".top__slide-title"),a=$(n[t]).text(),i=$(n[e]).text(),r=n.length,o=$(".slick-arrow");$("._name-prev").text(a),$("._name-next").text(i),o.on("click",(function(){function a(t,e){var a=$(n[e]).text();$("._name-next").text(a);var i=$(n[t]).text();$("._name-prev").text(i)}$(this).hasClass("slick-next")?((e+=1)===r&&(e=0),(t+=1)===r&&(t=0),a(t,e)):((t-=1)<0&&(t=r-1),(e-=1)<0&&(e=r-1),a(t,e))}))})),$.each($("._ibg"),(function(){$(this).find("img").length>0&&$(this).css("background-image",'url("'+$(this).find("img").attr("src")+'")')})),$((function(){t||$("._tt").mousemove((function(t){$(this).children("._tt-content").show(),$("._tt-content").css("top",t.clientY+12).css("left",t.clientX+12)})).mouseout((function(){$("._tt-content").hide()}))})),$((function(){var t=$(".header__wrapper"),e=$(".top").outerHeight()/2;$(window).scroll((function(n){$(window).scrollTop()>=e?t.addClass("_scrolling"):t.removeClass("_scrolling")}))})),$((function(){t&&$(".product__add-btn").addClass("_show-btn")})),$((function(){var t=$("[data-popup]"),e=$("[data-close]");t.on("click",(function(t){t.preventDefault();var e=$(this).data("popup"),n=$(window).outerWidth()-$(".content").outerWidth();$(".popup._open").removeClass("_open"),$(e).addClass("_open"),$("body").addClass("_lock").css("padding-right",n),$(".header__wrapper").css("padding-right",n),setTimeout((function(){$(e).find(".popup__content").css("opacity",1)}),200)})),e.on("click",(function(t){t.preventDefault();var e=$(this).parents(".popup");e.find(".popup__content").css("opacity",0),setTimeout((function(){e.removeClass("_open"),$("body").removeClass("_lock").css("padding-right",0),$(".header__wrapper").css("padding-right",0)}),200)})),$(".popup").on("click",(function(){var t=$(this);t.find(".popup__content").css("opacity",0),setTimeout((function(){t.removeClass("_open"),$("body").removeClass("_lock").css("padding-right",0),$(".header__wrapper").css("padding-right",0)}),200)})),$(".popup__content").on("click",(function(t){t.stopPropagation()}))})),$((function(){$(".select__option").on("click",(function(){var t=$(".select__btn").text(),e=$(this),n=e.text();$(".select__btn").text(n),e.text(t),"All"===n?$("[data-group]").show():function(t){$("[data-group]").hide(),$("[data-group]").each((function(){var e=$(this).data("group");t===e&&$(this).show()}))}(n)}))})),$((function(){var t=$("._add-to-cart");t.on("click",(function(){var t=$(this);!function(t,e){if(!e.hasClass("_hold")){e.addClass("_hold");var n=$(".cart");if(e.hasClass("product__add-btn")){var a=e.parent().find(".product__img-wrapper"),i=e.parent().find(".product__name").text(),r=e.parent().find(".product__price").text(),o=e.parent().find(".product__img").attr("src");d(a),u(o,i,r)}else{var c=e.parent().parent().find(".top__img-wrapper"),s=e.parent().find(".top__slide-title").text(),l=e.parent().find(".top__slide-price").text(),p=e.parent().parent().find(".top__img").attr("src");d(c),u(p,s,l)}var _=$(".cart-item").length;function d(t){var a=t.clone(!0);a.addClass("_fly");var i=t.outerWidth()+"px",r=t.outerHeight()+"px",o=t.get(0).getBoundingClientRect().left+"px",c=t.get(0).getBoundingClientRect().top+"px";a.css({left:o,top:c,width:i,height:r}),e.parent().append(a);var s=n.get(0).getBoundingClientRect().left+"px",l=n.get(0).getBoundingClientRect().top+"px";a.css({left:s,top:l,width:"0px",height:"0px",opacity:"0"})}function u(e,n,a){var i=$(".modal-cart__empty");i&&(i.remove(),$(".modal-cart__body").append('\n                    <div class="modal-cart__total-block total">\n                    <button class="total__btn" type="button">Checkout</button>\n                    <p class="total__info>">Total price: <span class="total__price">'+a+"</span></p>\n                    </div>\n                    ")),$(".modal-cart__list").append('\n                <li class="cart-item" data-id="'+t+'">\n                    <div class="cart-item__img-wrapper">\n                        <img class="cart-item__img" src="'+e+'" alt="kaktus">\n                    </div>\n                    <div class="cart-item__info">\n                        <h3 class="cart-item__title">'+n+'</h3>\n                        <span class="cart-item__price">'+a+'</span> \n                    </div>\n                    <div class="cart-item__quantity quantity">\n                        <button class="quantity__minus quantity__btn-n _no-active" type="button" aria-label="minus button">\n                            <span class="quantity__icon-minus"></span>\n                        </button>                                     \n                        <label class="quantity__label" for="number" aria-label="Quantity">\n                            <input class="quantity__input" type="number" name="number" id="number" placeholder="1" value="1">\n                        </label>                                        \n                        <button class="quantity__plus quantity__btn-n" type="button" aria-label="plus button">\n                            <span class="quantity__icon-plus" ></span>\n                        </button>\n                    </div>\n                    <div class="cart-item__total">\n                        <button class="cart-item__delete" type="button">Delete from cart</button>\n                        <span class="cart-item__total-price">'+a+"</span>\n                    </div>\n                    \n                </li>")}$(".cart__label").text(_).css("display","flex"),$("#tooltip-3").text("in cart "+_+" product(s)")}}(t.parent().data("id"),t)})),$(".modal-cart__list").on("click",(function(e){if($(e.target).hasClass("cart-item__delete")){var n=$(e.target),a=n.parent().data("id");n.parent().parent().remove();var i=$(".cart__label"),r=$(".cart-item").length;$(".cart__label").text(r),$("#tooltip-3").text("in cart "+r+" product(s)"),0===r&&(i.css("display","none"),$("#tooltip-3").text("cart"),$(".modal-cart__body").append('<li class="modal-cart__empty">Your cart is empty</li>')),t.each((function(){var t=$(this).parent().parent().data("id");a===t&&$(this).removeClass("_hold")}))}}))})),$((function(){var t=$(".modal-cart__list");function e(t){t.parent().prev().removeClass("_no-active")}function n(t){t.parent().next().removeClass("_no-active")}t.on("focusout",(function(t){if(1===$(t.target).closest(".quantity__input").length){var a=$(t.target);a.val((function(t,e){return e.replace(/\D/g,"")}));var i=a.parent().parent().parent().find(".cart-item__price").clone(!0),r=a.parent().parent().parent().find(".cart-item__total-price");if(""===a.val()||a.val()<2)a.val("1"),function(t){t.parent().prev().addClass("_no-active")}(a),n(a),r.text(i.text());else if(a.val()>10){a.val("10"),function(t){t.parent().next().addClass("_no-active")}(a),e(a);var o=i.text((function(t,e){return e.replace("$","")}));r.text(String(10*Number(o.text()))+"$")}else{e(a),n(a);var c=i.text((function(t,e){return e.replace("$","")}));r.text(String(Number(c.text())*a.val())+"$")}}})),t.on("click",(function(t){if(1===$(t.target).closest(".quantity__plus").length){var e=$(t.target),n=e.parent().parent().find(".cart-item__total-price"),a=e.parent().parent().find(".cart-item__price").clone(!0).text((function(t,e){return e.replace("$","")})),i=e.prev().children();e.parent().find(".quantity__minus").removeClass("_no-active"),i[0].stepUp(),10===Number(i.val())&&e.addClass("_no-active"),n.text(String(Number(i.val())*Number(a.text()))+"$")}else if(1===$(t.target).closest(".quantity__minus").length){var r=$(t.target),o=r.parent().parent().find(".cart-item__total-price"),c=r.parent().parent().find(".cart-item__price").clone(!0).text((function(t,e){return e.replace("$","")})),s=r.next().children();r.parent().find(".quantity__plus").removeClass("_no-active"),s[0].stepDown(),1===Number(s.val())&&r.addClass("_no-active"),o.text(String(Number(s.val())*Number(c.text()))+"$")}}))}))})();
//# sourceMappingURL=main.js.map
